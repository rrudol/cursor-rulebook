# No Blocking Development Scripts Rule ðŸš«â³

**Rule ID:** `dev-scripts-001`

## Statement

**NEVER** run long-running or blocking development scripts that require user interaction or keep servers running indefinitely. Instead, use build commands and analyze their output for troubleshooting and development assistance.

## Motivation âœ¨

â€¢ Prevents blocking execution that halts the AI assistant's workflow ðŸ”„  
â€¢ Enables proper analysis of build outputs and errors ðŸ“Š  
â€¢ Maintains productive development flow without manual intervention ðŸš€  
â€¢ Allows for automated problem detection and resolution ðŸ”§

## Prohibited Commands âŒ

### Development Servers

```bash
# âŒ NEVER run these commands
pnpm dev
npm run dev
yarn dev
npm start
pnpm start
yarn start

# âŒ Other blocking commands
pnpm run serve
npm run watch
yarn watch
nodemon
```

### Interactive Commands

```bash
# âŒ Commands requiring user input
npx create-*
npm init
pnpm create
yarn create
```

## Recommended Alternatives âœ…

### Instead of Development Servers

```bash
# âœ… Build and analyze output
pnpm run build
npm run build
yarn build

# âœ… Type checking
pnpm run type-check
tsc --noEmit

# âœ… Linting
pnpm run lint
eslint src/
```

### For Analysis and Troubleshooting

```bash
# âœ… Dependency analysis
pnpm list
npm ls
pnpm audit

# âœ… Test execution
pnpm test
npm test
yarn test

# âœ… Production preview (if quick)
pnpm run preview --timeout 5000
```

## Implementation Guidelines ðŸ›¡ï¸

### When User Requests Development Server

1. **Explain the limitation** - clarify why we can't run blocking commands
2. **Suggest alternatives** - offer build/test commands that provide similar insights
3. **Analyze build output** - examine compilation errors, warnings, and metrics
4. **Provide specific guidance** - based on build results, suggest concrete fixes

### Example Response Pattern

```markdown
I understand you'd like to see the development server, but I'll run the build
command instead to analyze any issues:

`pnpm run build`

[Analyze build output and provide specific recommendations]

If you need to run the dev server manually, you can use: `pnpm dev`
```

### Background Process Exception

If a command absolutely must run in the background:

```bash
# âœ… Only when explicitly required and with timeout
timeout 30s pnpm run build:watch &
```

## Code Review Guidelines ðŸ‘€

### What to Look For

- **Check scripts** - Review package.json scripts for blocking behavior
- **Build configuration** - Ensure build processes are optimized and non-blocking
- **CI/CD compatibility** - Verify commands work in automated environments

### Development Workflow

```bash
# âœ… Recommended development workflow
1. pnpm install          # Install dependencies
2. pnpm run build        # Build project
3. pnpm run lint         # Check code quality
4. pnpm run test         # Run tests
5. # Analyze results and provide feedback
```

## Exception Cases ðŸ”“

### When Background Execution is Acceptable

- **Explicit user request** with understanding of blocking nature
- **Time-limited operations** with appropriate timeouts
- **Non-essential monitoring** that doesn't block primary workflow

### How to Handle Exceptions

```bash
# âœ… Proper background execution with safeguards
nohup pnpm run build:watch > build.log 2>&1 &
sleep 5  # Allow process to start
kill %1  # Terminate after analysis
```

## Error Handling ðŸ”§

### When Build Commands Fail

1. **Capture full output** - preserve error messages and warnings
2. **Identify root causes** - analyze dependency, syntax, or configuration issues
3. **Provide specific fixes** - offer concrete solutions based on error patterns
4. **Suggest verification steps** - recommend commands to verify fixes

### Common Build Issues and Solutions

```bash
# âœ… Dependency issues
pnpm install --frozen-lockfile
npm ci

# âœ… Type errors
tsc --noEmit --strict

# âœ… Lint issues
eslint . --fix
prettier --write .
```

## Related Guidelines ðŸ“š

- Use `git status` and `git diff` for understanding changes
- Prefer `cat package.json` over running package scripts
- Use `ls -la` for directory structure analysis
- Check `pnpm list` for dependency verification

## Motivation Summary ðŸŽ¯

- **Maintains workflow continuity** - no hanging processes âš¡
- **Enables proper analysis** - build outputs provide rich debugging info ðŸ“ˆ
- **Supports automation** - commands work in CI/CD environments ðŸ¤–
- **Prevents frustration** - no need to manually terminate blocked processes ðŸ˜Œ

Remember: **Build, analyze, and guide - don't block and wait!** ðŸš€âœ¨
description:
globs:
alwaysApply: false

---
